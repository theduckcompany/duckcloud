<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title></title>
  <!-- Avatar -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png">
  <link rel="manifest" href="/assets/site.webmanifest">
  <link rel="mask-icon" href="/assets/images/favicons/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="/assets/css/mdb.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/bootstrap-icons.min.css">
</head>

<body hx-ext="response-targets" hx-target-5*="this">
  <style>
    :root {
      --mdb-primary: #0082C8;
      --bs-primary: #0082C8;
      --bs-primary-rgb: 0, 130, 200;
      --mdb-primary-rgb: 0, 130, 200;
    }
  </style>

  <!--Main Navigation-->
  <header>
    <!-- Sidenav -->
    <nav id="main-sidenav" class="sidenav sidenav-sm shadow-1" data-mdb-sidenav-init data-mdb-mode="side"
      data-mdb-hidden="false" data-mdb-accordion="true">
      <a class="ripple d-flex justify-content-center pt-4 pb-2" href="/" data-mdb-ripple-color="primary">
        <!-- <img id="MDB-logo" src="https://mdbcdn.b-cdn.net/wp-content/uploads/2018/06/logo-mdb-jquery-small.webp"
          alt="MDB Logo" draggable="false" /> -->
      </a>

      <hr class="hr">
      <ul class="sidenav-menu px-2 pb-5" hx-boost="true">
        <li class="sidenav-item">
          <a class="sidenav-link" href="/settings/general" hx-target="#content" hx-swap="outerHTML">
            <i class="bi bi-person-fill me-3"></i><span>General</span></a>
        </li>
        <li class="sidenav-item">
          <a class="sidenav-link" href="/settings/security" hx-target="#content" hx-swap="outerHTML">
            <i class="bi bi-lock-fill me-3"></i><span>Security</span></a>
        </li>


        {{ if (eq .IsAdmin true)}}
        <li class="sidenav-item pt-3">
          <span class="sidenav-subheading text-muted text-uppercase fw-bold">Admin</span>
        </li>
        <li class="sidenav-item">
          <a class="sidenav-link" href="/settings/users" hx-target="#content" hx-swap="outerHTML">
            <i class="bi bi-people-fill me-3"></i><span>User Management</span></a>
        </li>
        {{end}}
      </ul>
    </nav>
    <!-- Sidenav -->

    <!-- Navbar -->
    <nav id="main-navbar" class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-0">
      <!-- Container wrapper -->
      <div class="container-fluid">
        <!-- Toggler -->
        <button data-mdb-toggle="sidenav" data-mdb-target="#main-sidenav"
          class="btn shadow-0 p-0 me-3 d-block d-xxl-none" aria-controls="#main-sidenav" aria-haspopup="true">
          <i class="bi bi-list bi-lg"></i>
        </button>

        <!-- Right links -->
        <ul class="navbar-nav ms-auto d-flex flex-row">

          <!-- Avatar -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle hidden-arrow d-flex align-items-center" href="#"
              id="navbarDropdownMenuLink" role="button" data-mdb-toggle="dropdown" aria-expanded="false">
              <i class="bi bi-person-circle"></i>
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
              <li><a class="dropdown-item " href="/browser">Browser</a></li>
              <li><a class="dropdown-item" href="/settings">Settings</a></li>
              <li><a class="dropdown-item" href="/logout">Logout</a></li>
            </ul>
          </li>
        </ul>
      </div>
      <!-- Container wrapper -->
    </nav>
    <!-- Navbar -->

    <!-- Heading -->
    <section class="">
      <!-- Background gradient -->
      <div class="p-5"
        style="height: 200px; background: linear-gradient( to right, hsl(209, 42.2%, 65%), hsl(209, 42.2%, 85%));">
      </div>
      <!-- Background gradient -->
    </section>
    <!-- Heading -->

  </header>
  <!--Main Navigation-->

  <!--Main layout-->
  <main class="mb-5" style="margin-top: -100px;">
    <div class="container px-4">

      <!-- Modal -->
      <div id="modal-target" class="modal modal-blur fade" style="display: none" aria-hidden="false">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
          <div class="modal-content"></div>
        </div>
      </div>

      {{ yield }}
    </div>
  </main>

  <style>
    body {
      background-color: hsl(0, 0%, 97%);
    }

    @media (min-width: 1400px) {

      main,
      header,
      #main-navbar {
        padding-left: 240px;
      }
    }
  </style>


  <footer></footer>
  <script src="/assets/js/libs/htmx.min.js"></script>
  <script src="/assets/js/libs/response-targets.js"></script>

  <script type="module">
    import {Sidenav, Navbar, Select, Modal, initMDB} from "/assets/js/libs/mdb.es.min.js";

    initMDB({Sidenav, Navbar, Select, Modal});

    const sidenav = document.getElementById("main-sidenav");
    const sidenavInstance = Sidenav.getInstance(sidenav);

    let innerWidth = null;

    const setMode = (e) => {
      // Check necessary for Android devices
      if (window.innerWidth === innerWidth) {
        return;
      }

      innerWidth = window.innerWidth;

      if (window.innerWidth < 1400) {
        sidenavInstance.changeMode("over");
        sidenavInstance.hide();
      } else {
        sidenavInstance.changeMode("side");
        sidenavInstance.show();
      }
    };

    setMode();

    // Event listeners
    window.addEventListener("resize", setMode);

    // Make all the selects pretty even with the dynamic content
    document.body.addEventListener("htmx:afterSwap", function (evt) {
      document.querySelectorAll('.select').forEach((select) => {
        const res = Select.getInstance(select);
        if (res) {
          res.dispose();
        }
        new Select(select);
      });
    })

    document.body.addEventListener("htmx:afterSettle", function (evt) {
      document.querySelectorAll('.select').forEach((select) => {
        select.classList.add('select-initialized');
      });
    });

  </script>
</body>

</html>
